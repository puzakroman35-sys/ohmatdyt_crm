# FE-010: –î–æ–¥–∞–≤–∞–Ω–Ω—è –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤ - Quick Start

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```typescript
import { AddCommentForm } from '@/components/Cases';

// –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –¥–µ—Ç–∞–ª–µ–π –∑–≤–µ—Ä–Ω–µ–Ω–Ω—è
<AddCommentForm
  caseId={caseDetail.id}
  casePublicId={caseDetail.public_id}
  userRole={user?.role}
  onSuccess={fetchCaseDetail}
/>
```

### 2. Props —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å

```typescript
interface AddCommentFormProps {
  caseId: string;           // UUID –∑–≤–µ—Ä–Ω–µ–Ω–Ω—è
  casePublicId: number;     // –ü—É–±–ª—ñ—á–Ω–∏–π ID –∑–≤–µ—Ä–Ω–µ–Ω–Ω—è
  userRole?: 'OPERATOR' | 'EXECUTOR' | 'ADMIN';  // –†–æ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
  onSuccess?: () => void;   // Callback –ø—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –¥–æ–¥–∞–≤–∞–Ω–Ω—è
}
```

### 3. RBAC –ü—Ä–∞–≤–∏–ª–∞

#### –ü—É–±–ª—ñ—á–Ω—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ (`is_internal=false`):
- ‚úÖ OPERATOR - –º–æ–∂–µ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏
- ‚úÖ EXECUTOR - –º–æ–∂–µ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏
- ‚úÖ ADMIN - –º–æ–∂–µ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏

#### –í–Ω—É—Ç—Ä—ñ—à–Ω—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ (`is_internal=true`):
- ‚ùå OPERATOR - –ù–ï –º–æ–∂–µ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏
- ‚úÖ EXECUTOR - –º–æ–∂–µ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏
- ‚úÖ ADMIN - –º–æ–∂–µ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏

### 4. –í–∞–ª—ñ–¥–∞—Ü—ñ—ó

| –ü—Ä–∞–≤–∏–ª–æ | –ó–Ω–∞—á–µ–Ω–Ω—è | –ü–æ–º–∏–ª–∫–∞ |
|---------|----------|---------|
| –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –¥–æ–≤–∂–∏–Ω–∞ | 5 —Å–∏–º–≤–æ–ª—ñ–≤ | "–ö–æ–º–µ–Ω—Ç–∞—Ä –ø–æ–≤–∏–Ω–µ–Ω –º—ñ—Å—Ç–∏—Ç–∏ –º—ñ–Ω—ñ–º—É–º 5 —Å–∏–º–≤–æ–ª—ñ–≤" |
| –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –¥–æ–≤–∂–∏–Ω–∞ | 5000 —Å–∏–º–≤–æ–ª—ñ–≤ | "–ö–æ–º–µ–Ω—Ç–∞—Ä –Ω–µ –º–æ–∂–µ –ø–µ—Ä–µ–≤–∏—â—É–≤–∞—Ç–∏ 5000 —Å–∏–º–≤–æ–ª—ñ–≤" |
| –û–±–æ–≤'—è–∑–∫–æ–≤–µ –ø–æ–ª–µ | Required | "–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–≤–µ–¥—ñ—Ç—å —Ç–µ–∫—Å—Ç –∫–æ–º–µ–Ω—Ç–∞—Ä—è" |

### 5. API Endpoint

```
POST /api/cases/{case_id}/comments
Content-Type: application/json
Authorization: Bearer {token}

{
  "text": "–¢–µ–∫—Å—Ç –∫–æ–º–µ–Ω—Ç–∞—Ä—è",
  "is_internal": false
}
```

**Responses:**
- `201 Created` - –£—Å–ø—ñ—Ö
- `400 Bad Request` - –í–∞–ª—ñ–¥–∞—Ü—ñ—è
- `403 Forbidden` - RBAC
- `404 Not Found` - –ó–≤–µ—Ä–Ω–µ–Ω–Ω—è –Ω–µ —ñ—Å–Ω—É—î

### 6. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤
cd ohmatdyt-crm
python test_fe010.py
```

**–©–æ —Ç–µ—Å—Ç—É—î—Ç—å—Å—è:**
- ‚úÖ –î–æ–¥–∞–≤–∞–Ω–Ω—è –ø—É–±–ª—ñ—á–Ω–æ–≥–æ –∫–æ–º–µ–Ω—Ç–∞—Ä—è (OPERATOR)
- ‚úÖ –î–æ–¥–∞–≤–∞–Ω–Ω—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–≥–æ –∫–æ–º–µ–Ω—Ç–∞—Ä—è (EXECUTOR)
- ‚úÖ RBAC –∑–∞–±–æ—Ä–æ–Ω–∞ –¥–ª—è OPERATOR
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–æ–≤–∂–∏–Ω–∏ (5-5000)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–ø–∏—Å–∫—É

### 7. UI –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

**–ü–µ—Ä–µ–º–∏–∫–∞—á —Ç–∏–ø—É –∫–æ–º–µ–Ω—Ç–∞—Ä—è:**
- üîì –ü—É–±–ª—ñ—á–Ω–∏–π (–∑–µ–ª–µ–Ω–∏–π) - "–í–∏–¥–∏–º–∏–π –≤—Å—ñ–º —É—á–∞—Å–Ω–∏–∫–∞–º –∑–≤–µ—Ä–Ω–µ–Ω–Ω—è"
- üîí –í–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π (–ø–æ–º–∞—Ä–∞–Ω—á–µ–≤–∏–π) - "–í–∏–¥–∏–º–∏–π —Ç—ñ–ª—å–∫–∏ —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∞–º —Å–∏—Å—Ç–µ–º–∏"

**–ü—ñ–¥–∫–∞–∑–∫–∞ –¥–ª—è OPERATOR:**
```
‚ÑπÔ∏è –í–∏ –º–æ–∂–µ—Ç–µ –¥–æ–¥–∞–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ –ø—É–±–ª—ñ—á–Ω—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ. 
–í–Ω—É—Ç—Ä—ñ—à–Ω—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ –¥–ª—è –≤–∏–∫–æ–Ω–∞–≤—Ü—ñ–≤ —Ç–∞ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤.
```

### 8. Error Handling

```typescript
// –ü—Ä–∏–∫–ª–∞–¥ –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫
try {
  await api.post(`/api/cases/${caseId}/comments`, data);
  message.success('–ö–æ–º–µ–Ω—Ç–∞—Ä —É—Å–ø—ñ—à–Ω–æ –¥–æ–¥–∞–Ω–æ');
} catch (error: any) {
  if (error.response?.status === 403) {
    message.error('–£ –≤–∞—Å –Ω–µ–º–∞—î –ø—Ä–∞–≤ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ—Ö –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤');
  } else if (error.response?.status === 400) {
    message.error(error.response?.data?.detail || '–ü–æ–º–∏–ª–∫–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó');
  } else {
    message.error('–ù–µ –≤–¥–∞–ª–æ—Å—è –¥–æ–¥–∞—Ç–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä');
  }
}
```

## üìö –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏

- **–ü–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è:** `FE-010_IMPLEMENTATION_SUMMARY.md`
- **–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç—É:** `PROJECT_STATUS.md` (—Å–µ–∫—Ü—ñ—è FE-010)
- **–¢–∞—Å–∫:** `tasks/FE-010.md`
- **Backend API:** `tasks/BE-011.md`
