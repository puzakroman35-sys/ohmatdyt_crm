# FE-014: Manual Testing Guide
# Сторінка профілю користувача з можливістю зміни пароля

## Pre-requisites
- Backend API запущений (localhost:8000)
- Frontend запущений (localhost:3000)
- BE-020 (change password endpoint) імплементовано
- Тестові користувачі в базі даних

## Test Users
1. ADMIN: admin / Admin123!
2. OPERATOR: operator / Operator123!
3. EXECUTOR: executor / Executor123!

## Manual Test Cases

### TC1: Доступ до сторінки профілю
**Steps:**
1. Відкрити http://localhost:3000/login
2. Увійти як admin / Admin123!
3. Клікнути на dropdown меню профілю (верхній правий кут)
4. Вибрати пункт "Профіль"

**Expected:**
- Редірект на /profile
- Сторінка відображається
- Показано інформацію користувача (ПІБ, username, email, роль, статус)
- Показано форму зміни пароля

### TC2: Відображення для ADMIN
**Steps:**
1. Увійти як admin / Admin123!
2. Перейти на /profile

**Expected:**
- ПІБ: Admin User
- Username: admin
- Email: admin@ohmatdyt.gov.ua
- Роль: Адміністратор (червоний тег)
- Статус: Активний (зелений тег)
- НЕ показується блок "Доступні категорії" (тільки для EXECUTOR)

### TC3: Відображення для OPERATOR
**Steps:**
1. Увійти як operator / Operator123!
2. Перейти на /profile

**Expected:**
- Роль: Оператор (синій тег)
- НЕ показується блок "Доступні категорії"

### TC4: Відображення для EXECUTOR з категоріями
**Steps:**
1. Увійти як executor / Executor123!
2. Перейти на /profile

**Expected:**
- Роль: Виконавець (зелений тег)
- Показується блок "Доступні категорії"
- Якщо є доступи - показано теги з назвами категорій
- Якщо немає доступів - показано warning "Немає доступних категорій"

### TC5: Успішна зміна пароля
**Steps:**
1. Увійти як admin / Admin123!
2. Перейти на /profile
3. Заповнити форму:
   - Поточний пароль: Admin123!
   - Новий пароль: NewPass123
   - Підтвердження: NewPass123
4. Натиснути "Змінити пароль"

**Expected:**
- Показано індикатор завантаження на кнопці
- Після успіху:
  - Success message: "Пароль успішно змінено"
  - Форма очищена
  - Індикатор сили пароля прихований
5. Logout
6. Спроба увійти зі старим паролем Admin123! - FAIL
7. Вхід з новим паролем NewPass123 - SUCCESS
8. Повернути пароль назад на Admin123!

### TC6: Помилка - невірний поточний пароль
**Steps:**
1. Увійти як admin / Admin123!
2. Перейти на /profile
3. Заповнити форму:
   - Поточний пароль: WrongPassword123
   - Новий пароль: NewPass123
   - Підтвердження: NewPass123
4. Натиснути "Змінити пароль"

**Expected:**
- HTTP 401
- Error message: "Поточний пароль невірний"
- Форма НЕ очищена

### TC7: Валідація - пароль надто короткий
**Steps:**
1. Перейти на /profile
2. Заповнити форму:
   - Поточний пароль: Admin123!
   - Новий пароль: Short1
   - Підтвердження: Short1

**Expected:**
- Валідаційна помилка під полем "Новий пароль"
- Текст: "Пароль повинен містити мінімум 8 символів"
- Кнопка може бути disabled або показати помилку при submit

### TC8: Валідація - немає великої літери
**Steps:**
1. Заповнити форму:
   - Новий пароль: lowercase123

**Expected:**
- Помилка: "Пароль повинен містити хоча б одну велику літеру"
- Індикатор сили пароля - червоний або помаранчевий

### TC9: Валідація - немає маленької літери
**Steps:**
1. Заповнити форму:
   - Новий пароль: UPPERCASE123

**Expected:**
- Помилка: "Пароль повинен містити хоча б одну маленьку літеру"

### TC10: Валідація - немає цифри
**Steps:**
1. Заповнити форму:
   - Новий пароль: OnlyLetters

**Expected:**
- Помилка: "Пароль повинен містити хоча б одну цифру"

### TC11: Валідація - паролі не співпадають
**Steps:**
1. Заповнити форму:
   - Новий пароль: NewPass123
   - Підтвердження: DifferentPass123

**Expected:**
- Помилка під полем "Підтвердження": "Паролі не співпадають"

### TC12: Помилка - новий пароль == поточний
**Steps:**
1. Заповнити форму:
   - Поточний пароль: Admin123!
   - Новий пароль: Admin123!
   - Підтвердження: Admin123!
2. Submit

**Expected:**
- HTTP 422
- Error message: "Новий пароль не може співпадати з поточним"

### TC13: Індикатор сили пароля
**Steps:**
1. Почати вводити новий пароль:
   - "a" - немає індикатора
   - "abcd123" - червоний "Слабкий" (< 8 символів)
   - "Abcd1234" - помаранчевий "Середній" (8 символів, всі вимоги)
   - "Abcd1234!@#$" - зелений "Сильний" (12+ символів, спецсимволи)

**Expected:**
- Progress bar відображається під полем
- Колір змінюється: червоний → помаранчевий → зелений
- Текст: Слабкий → Середній → Сильний

### TC14: Перевірка AuthGuard
**Steps:**
1. Відкрити http://localhost:3000/profile БЕЗ логіну

**Expected:**
- Редірект на /login
- Після логіну - редірект назад на /profile

### TC15: Responsive дизайн
**Steps:**
1. Увійти в систему
2. Перейти на /profile
3. Змінити розмір вікна:
   - Desktop (>1200px) - 2 колонки
   - Tablet (768-1200px) - 2 колонки
   - Mobile (<768px) - 1 колонка

**Expected:**
- На великих екранах ProfileInfo ліворуч, ChangePasswordForm праворуч
- На мобільних - ProfileInfo зверху, форма знизу
- Все читабельно і зручно

## Test Results Template

```
================================================================================
FE-014: Manual Testing Results
================================================================================
Date: 2025-11-06
Tester: [Your Name]

TC1  - Доступ до сторінки: [ ] PASS [ ] FAIL
TC2  - ADMIN view: [ ] PASS [ ] FAIL
TC3  - OPERATOR view: [ ] PASS [ ] FAIL
TC4  - EXECUTOR view: [ ] PASS [ ] FAIL
TC5  - Успішна зміна: [ ] PASS [ ] FAIL
TC6  - Невірний пароль: [ ] PASS [ ] FAIL
TC7  - Короткий пароль: [ ] PASS [ ] FAIL
TC8  - Немає великої: [ ] PASS [ ] FAIL
TC9  - Немає маленької: [ ] PASS [ ] FAIL
TC10 - Немає цифри: [ ] PASS [ ] FAIL
TC11 - Паролі різні: [ ] PASS [ ] FAIL
TC12 - Новий == поточний: [ ] PASS [ ] FAIL
TC13 - Індикатор сили: [ ] PASS [ ] FAIL
TC14 - AuthGuard: [ ] PASS [ ] FAIL
TC15 - Responsive: [ ] PASS [ ] FAIL

Total: X/15 PASS
Status: [ ] READY FOR PRODUCTION [ ] NEEDS FIXES
================================================================================
```

## Notes
- Всі тести повинні пройти PASS перед production deploy
- Особливу увагу звернути на security (TC6, TC12)
- Перевірити на різних браузерах (Chrome, Firefox, Safari)
- Перевірити на реальних мобільних пристроях
